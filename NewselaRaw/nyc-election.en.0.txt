NEW YORK — Bill de Blasio was elected New York City's first Democratic mayor in two decades Tuesday, running on an unabashedly liberal, tax-the-rich platform that contrasted sharply with billionaire Michael Bloomberg's record during 12 years in office.

De Blasio, the city's public advocate, defeated Republican Joe Lhota, former chief of the metropolitan area's transit agency.

De Blasio, 52, will take office on Jan. 1 as the 109th mayor of the nation's largest city. He had been heavily favored, holding an overwhelming lead in the polls for weeks.

Bloomberg, who first ran as a Republican and later became an independent, guided the city through the financial meltdown and the aftermath of 9/11. He is leaving office after three terms.

De Blasio ran as the anti-Bloomberg, railing against economic inequality and portraying New York as a "tale of two cities" — one rich, the other working class — under the pro-business, pro-development mayor, who made his fortune from the financial information company that bears his name.

De Blasio, who hails from Brooklyn, reached out to New Yorkers he contended were left behind by the often Manhattan-centric Bloomberg administration, and he called for a tax increase on the wealthy to pay for universal pre-kindergarten. He also pledged to improve economic opportunities in minority and working-class neighborhoods.

He decried alleged abuses under the police department's stop-and-frisk policy and enjoyed a surge when a federal judge ruled that police had unfairly singled out blacks and Hispanics. The candidate, a white man married to a black woman, also received a boost from a campaign ad featuring their son, a 15-year-old with a big Afro.

Despite his reputation for idealism, he has also shown a pragmatic side, having worked for both Bill and Hillary Rodham Clinton and Gov. Andrew Cuomo, and was known for closed-door wheeling-and-dealing while serving on the City Council.

Lhota, 59, slammed de Blasio's "tale of two cities" appeal as class warfare and argued that de Blasio's time in the 1980s with the leftist Sandinistas in Nicaragua as an aid worker and activist made him a Marxist.

Lhota also credited stop-and-frisk with contributing to the city's drop in crime. He charged that a Blasio victory would return the city to its crime-filled past, a point he made with a TV ad that depicted graphic images of violence from decades ago.

Though polling shows New Yorkers largely approve of Bloomberg's policies, those same surveys revealed the city was hungry for a change.

While registered Democrats outnumber Republicans in the city 6-to-1, the last time a Democrat was elected mayor was 1989, when David Dinkins, de Blasio's former boss, was victorious.

If de Blasio's margin of victory holds, it will surpass Abe Beame's 40-point win in 1973 as the largest by a non-incumbent since five-borough elections began in 1897.

Lhota, a one-time deputy mayor to Rudolph Giuliani, announced his mayoral bid on a surge of acclaim for his leadership of the Metropolitan Transportation Authority during last year's Superstorm Sandy. But his campaign struggled out of the gate, and he was slow to raise money.

De Blasio was an afterthought for much of the crowded Democratic primary, spending most of the year in a distant fourth, trailing City Council Speaker Christine Quinn, former Rep. Anthony Weiner and the Democrats' 2009 nominee, Bill Thompson.

But Thompson's campaign never ignited, and Quinn could not shake her role in the decision to amend the city's term limits to let Bloomberg run again in 2009. When Weiner's support imploded after another sexting scandal, many of his backers went to de Blasio.