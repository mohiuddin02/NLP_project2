Israeli troops battled Hamas fighters here on Wednesday.

Fighting has raged for more than two weeks.

During that time, more than 680 Palestinians and 34 Israelis have been killed.

U.S. Secretary of State John Kerry flew to Israel Wednesday.

He is working to get the sides to stop fighting.

He said progress has been made.

Neither side, however, appeared to be backing down.

Palestinian rocket fire caused several airlines to stop flying to Israel on Tuesday.

Israeli troops clashed with Hamas near the Gaza town of Khan Younis.

Heavy fighting there forced dozens of families to flee.

Hamas leader Khaled Mashaal later demanded Gaza's borders be allowed to open.

He called Palestinians "the true owners of the land."

Hamas has ruled Gaza since 2007.

The Palestinians are seeking their own country.

They and the Israelis have been negotiating — and fighting — over the land for decades.

Neither side trusts the other.

Israel says it must prevent Hamas from firing missiles into Israel.

The U.S. government appears to support Israel's position.

The U.S. Federal Aviation Administration banned airline flights into Israel Tuesday.

A day earlier, a Hamas rocket landed near the main Israeli airport.

Even so, Secretary of State Kerry flew into Tel Aviv Wednesday.

He met with Israeli Prime Minister Benjamin Netanyahu.

Earlier, he held talks with Palestinian President Mahmoud Abbas.

He also met with United Nations chief Ban Ki-moon, who is also in the Middle East.

In Jerusalem, Kerry said talks to stop the fighting were making some progress.

"We certainly have made steps forward," Kerry said.

"There's still work to be done."

On the ground, meanwhile, Israeli troops clashed with Hamas fighters near Khan Younis.

The Israelis were backed by tanks and unmanned drone planes.

The Palestinians were armed with rocket-propelled grenades and assault rifles.

At least eight Hamas fighters died, a Palestinian official said.

Hundreds of residents of Khan Younis were seen fleeing their homes as the fighting started.

They said they were looking for shelter in nearby schools.

"The airplanes and airstrikes are all around us," said Aziza Msabah, a resident of Khan Younis.

"They are hitting the houses, which are collapsing upon us."

The sides have been fighting for 15 days.

Israel said 32 of its soldiers have died in that time.

Two Israeli civilians have been killed.

In Jerusalem, 30,000 people attended the funeral of Max Steinberg.

The 24-year-old from California was serving in the Israeli military.

Steinberg was killed on Sunday.

"I spoke with him a day and a half ago," his mother, Evie Steinberg, told Israeli TV.

"I said 'are you afraid?'

He said 'no.

I am afraid only for you.'

He's a hero."

The Palestinians say Israel is not being careful in using its weapons.

Gaza contains 1.7 million people.

The Palestinian death toll stands at 684, mostly civilians, said Gaza health official Ashraf al-Kidra.

Israel says it must stop Hamas rocket fire into Israel.

More than 2,100 rockets have been fired since the fighting began.

