Israeli troops battled Hamas militants on Wednesday near a southern Gaza Strip town in fighting that has so far killed more than 680 Palestinians and 34 Israelis.

The top U.S. diplomat, Secretary of State John Kerry, reported progress in efforts to end fighting.

Neither side, however, appeared to be backing down.

Palestinian rocket fire led several international airlines to cancel flights to Tel Aviv on Tuesday.

Israeli troops clashed with Hamas near the Gaza town of Khan Younis in heavy fighting that forced dozens of families to flee.

Hamas leader Khaled Mashaal later demanded Gaza's borders be open and an end to the blockade against it, calling Palestinians "the true owners of the land."

The Palestinians are seeking their own country.

They and the Israelis have been negotiating — and fighting — over the land for decades.

Israel has insisted it must substantially curb the military capabilities of the Islamic militant group Hamas — a position that appears to have gained support within the U.S. administration.

Hamas, meanwhile, has demanded the lifting of a crippling Israeli and Egyptian blockade on the impoverished coastal territory it has ruled since 2007.

Secretary of State Kerry flew into Tel Aviv despite a U.S. Federal Aviation Administration ban.

The ban came after a Hamas rocket hit near the airport the day before.

Kerry's arrival reflected his determination to achieve a cease-fire.

He met with Israeli Prime Minister Benjamin Netanyahu after earlier talks with Palestinian President Mahmoud Abbas and United Nations Secretary-General Ban Ki-moon, who is also in the region.

But U.S. officials have downplayed expectations for an immediate, lasting truce.

In Jerusalem, Kerry said negotiations toward a Gaza cease-fire were making some progress.

"We certainly have made steps forward," Kerry said.

"There's still work to be done."

On the ground, meanwhile, Israeli troops backed by tanks and aerial drones clashed with Hamas fighters armed with rocket-propelled grenades and assault rifles on the outskirts of Khan Younis.

At least eight militants died, a Palestinian health official said.

The Palestinian Red Crescent, which is part of the International Red Cross, was trying to evacuate some 250 people from the area.

Since early Wednesday, Khan Younis has been pummeled by air strikes and tank shelling.

Hundreds of residents of eastern Khan Younis were seen fleeing their homes as the battle unfolded, flooding into the streets with what few belongings they could carry, many with children in tow.

They said they were seeking shelter in nearby U.N. schools.

"The airplanes and airstrikes are all around us," said Aziza Msabah, a resident of Khan Younis.

"They are hitting the houses, which are collapsing upon us."

Farther north, the Shijaiyah neighborhood of Gaza City saw intense fighting earlier in the week.

An airstrike demolished a home, killing 30-year-old journalist Abdul Rahman Abu Hean, his grandfather Hassan and his nephew Osama.

Israel also struck the Wafa hospital in Gaza City, which the military says houses a Hamas command center.

Basman Ashi, the medical center's director, said all 97 patients and staff were evacuated following Israeli warnings and that no one was hurt in the attack.

Meanwhile, a foreign worker in Israel was killed when a rocket fired from the Gaza Strip landed near the southern Israeli city of Ashkelon on Wednesday, police spokeswoman Luba Samri said.

She did not immediately know the worker's nationality.

Israel said five more of its soldiers have died in the conflict, bringing the military's death toll to 32, without providing further details.

Two Israeli civilians have been killed in 15 days of fighting.

In Jerusalem, 30,000 people attended the funeral of Max Steinberg, a 24-year-old from the San Fernando Valley of Southern California serving in the Israeli military.

Steinberg was killed in an attack on an armored personnel carrier on Sunday.

"I spoke with him a day and a half ago," his mother, Evie Steinberg, told Israeli TV.

"I said 'are you afraid?'

He said 'no.

I am afraid only for you.'

He's a hero."

The Palestinians say Israel is randomly using a wide array of modern weaponry against Gaza's 1.7 million people, inflicting a heavy civilian death toll and leveling entire buildings.

The Palestinian death toll stands at 684, mostly civilians, according to Gaza health official Ashraf al-Kidra.

Israel says it launched the Gaza operation to halt Hamas rocket fire into Israel — more than 2,100 have been fired since the conflict erupted.

Another goal is to destroy a network of cross-border tunnels, some of which have been used to stage attacks.

U.N. High Commissioner for Human Rights Navi Pillay, meanwhile, warned both sides against targeting civilians and said war crimes may have been committed.

She noted an Israeli drone strike that killed three children and wounded two others while they were playing on the roof of their home.

She also referenced Israeli fire that struck seven children playing on Gaza beach, killing four from the same family.

"These are just a few examples where there seems to be a strong possibility that international humanitarian law has been violated, in a manner that could amount to war crimes," Pillay told the 47-nation U.N. Human Rights Council.

She said such incidents should be investigated.

As the Gaza death toll mounted, a 34-year-old Palestinian man was killed in clashes with Israeli soldiers near the West Bank City of Bethlehem, doctors said.

The development took place in an area that has so far been relatively quiet.

On Tuesday, U.S. and European airlines canceled flights to Israel after a Hamas rocket hit near the Ben Gurion International Airport in Tel Aviv.

Israeli officials have slammed the cancellations as an overreaction that rewards Hamas.

Israel's own El Al airline is still flying in and out of Ben Gurion.

Hamas spokesman Fawzi Barhoum said the flight cancellations were a "great victory" for the group.

