The U.S. Supreme Court struck down part of a federal law that would have prevented same-sex couples from getting federal benefits on Wednesday in a major victory for supporters of gay marriage.

Federal law applies in all fifty states.

The court also opened the door for gay marriages to resume in California, in a separate ruling on narrow legal grounds.

The decisions stopped short of saying that the U.S. Constitution guaranteed the right to same-sex marriage.

The court did not decide whether states that do not have same-sex marriage will have to recognize marriages performed in other states.

Twelve states and the District of Columbia allow same-sex marriages.

California is also expected to resume same-sex.

President Barack Obama praised the court for its decisions.

"We are a people who declared that we are all created equal â€“ and the love we commit to one another must be equal as well," he said in a statement.

But the issue of gay marriage causes heated arguments, with some saying that marriage should be reserved for one man and one woman.

More than two-thirds of the states do not allow gay marriage.

Both cases were decided by 5-4 rulings.

Different justices formed the majority in each decision.

The court threw out part of the Defense of Marriage Act (DOMA), a bipartisan law that was signed by President Bill Clinton in 1996.

Writing for the majority, Justice Anthony Kennedy said that the law violated the Constitutional protection of liberty.

He also said that the real reason for the law was to make same-sex marriage less important than marriage between a man and a woman.

"The avowed purpose and practical effect of the law here in question are to impose a disadvantage, a separate status, and so a stigma upon all who enter into same-sex marriages," Kennedy wrote.

The opinion said that the case is limited to marriages that are legally recognized in  the states.

But Justice Antonin Scalia said that it was not realistic to think the ruling will stop there.

He also said that majority was being unfair to people who opposed gay marriage.

"In the majority's telling, this story is black-and-white: Hate your neighbor or come along with us," he said.

At stake are a number of federal benefits and programs, including immigration rights, student loans and taxes.

The case was brought by Edith Windsor, who married Thea Spyer in Canada in 2007.

Their marriage was recognized in New York, where they lived, when Spyer died in 2009.

Windsor had to pay $363,053 in taxes on Spyer's estate that she would not have had to pay if, in her words, she had married "Theo" instead of Thea.

Throngs of people on the Supreme Court Plaza in Washington cheered the rulings.

The court "brings us that much closer to true equality," said David Boies.

He was one of the attorneys who represented the plaintiffs who sued to overturn Proposition 8.

That law, approved by California voters, made same-sex marriage illegal.

"Our plaintiffs now get to go back to California and, together with every other citizen of California, marry the person they love," he said.

A state court threw out the law.

California's then-governor Arnold Schwarzenegger declined to appeal the case.

Others stepped in to defend the law.

But in an opinion written by Chief Justice John Roberts, the Supreme Court found that only California's elected officials had legal standing to defend the law.

"We have never before upheld the standing of a private party to defend the constitutionality of a state statute when state officials have chosen not to.

We decline to do so for the first time here," Roberts wrote.

Kennedy was on the dissenting side in the California case.

He said that Roberts failed to take into account California's system that lets voters make laws directly and not just through their representatives.

John Eastman of the National Organization for Marriage told CNN that the Supreme Court got it wrong in both cases.

"When you destroy or redefine the institution, all of society is going to be harmed,"  he said.

Kris Perry, one of the plaintiffs in the California case, cheered the decision from the Supreme Court steps.

She and her partner would be able to tell their four sons "you're just as good as everybody else, no matter who you love, no matter who your parents love."

She and Sandy Stier were married in San Francisco in 2004, but the state Supreme Court invalidated the relationship.

The sons are from previous relationships.

Stier said the battle is not over.

"It's got to go nationwide, and we can't wait for that day," she said.

